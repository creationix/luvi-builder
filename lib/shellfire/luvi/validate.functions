# This file is part of luvi. It is subject to the licence terms in the COPYRIGHT file found in the top-level directory of this distribution and at https://raw.githubusercontent.com/raphaelcohn/luvi/master/COPYRIGHT. No part of luvi, including this file, may be copied, modified, propagated, or distributed except according to the terms contained in the COPYRIGHT file.
# Copyright Â© 2015 The developers of luvi. See the COPYRIGHT file in the top-level directory of this distribution and at https://raw.githubusercontent.com/raphaelcohn/luvi/master/COPYRIGHT.


luvi_validate_run()
{
	local code=$1
	local category="$2"
	local name="$3"
	local value="$4"
	
	case "$value" in
		
		unbuilt)
			:
		;;
		
		compile)
			:
		;;
		
		built)
			:
		;;
		
		*)
			if [ ! -e "$value" ]; then
				core_validate_exit "The $category '$name' specifies a run '$value' which is not 'unbuilt', 'compile' or 'built'"
			fi
		;;
		
	esac
}

luvi_validate_applicationCanBeBuilt()
{
	if [ $(core_variable_array_length luvi_applications) -ne 1 ]; then
	
		case "$luvi_run" in
		
			unbuilt|built)

				local code=$core_commandLine_exitCode_USAGE
				local category='non-option'
				local name='applications'
				local value="$luvi_run"
				core_validate_exit "The $category '$name' specifies a run '$value' but there there is more than one application (or no application)"
			;;
		
		esac
		
	fi
}